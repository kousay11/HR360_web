<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Réinitialisation mot de passe - HR360</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="{{ asset('front/css/login.css') }}">
    <style>
        .invalid-feedback { color: #dc3545; font-size: 0.875rem; margin-top: 0.25rem; display: none; }
        .is-invalid { border-color: #dc3545 !important; }
        .is-invalid + .input-icon + .invalid-feedback { display: block; }
    </style>
</head>
<body>
    <div class="login-wrapper">
        <div class="login-container">
            <div class="login-card">
                <div class="auth-form-container">
                    {{ form_start(requestForm, {'attr': {'class': 'auth-form'}}) }}
                        <div class="auth-header">
                            <h2 class="auth-title">Réinitialisation</h2>
                            <div class="auth-subtitle">Entrez votre email pour recevoir le lien</div>
                        </div>

                        {% for flash_error in app.flashes('reset_password_error') %}
                            <div class="auth-alert alert-danger">
                                <i class="fas fa-exclamation-circle"></i>
                                <span>{{ flash_error }}</span>
                            </div>
                        {% endfor %}

                        <div class="form-group">
                            {{ form_label(requestForm.email, null, {'label_attr': {'class': 'form-label'}}) }}
                            <div class="input-wrapper">
                                {{ form_widget(requestForm.email, {'attr': {
                                    'class': 'form-input',
                                    'placeholder': 'exemple@email.com'
                                }}) }}
                                <i class="input-icon fas fa-envelope"></i>
                            </div>
                            {{ form_errors(requestForm.email) }}
                        </div>

                        <div class="form-group">
                            <button type="submit" class="auth-button">
                                <span class="button-text">Envoyer le lien</span>
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>

                        <div class="auth-footer">
                            <p>Vous vous souvenez de votre mot de passe ?
                                <a href="{{ path('app_login') }}" class="auth-link">Connectez-vous</a>
                            </p>
                        </div>
                    {{ form_end(requestForm) }}
                </div>
            </div>
        </div>
    </div>
</body>
</html>