{% extends 'baseEMP.html.twig' %}

{% block title %}Mes Participations - HR360{% endblock %}

{% block css %}
	{{ parent() }}
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="{{ asset('front/css/project-card.css') }}">
	<link href="{{ asset('back/css/buttons.css') }}" rel="stylesheet">

{% endblock %}

{% block index %}
<section id="participations" class="section">
	<div class="container section-title" data-aos="fade-up">
		<h2>Mes Participations</h2>
		<p>Liste des formations auxquelles vous avez participé</p>
	</div>

	<div class="container">
		<div class="row">
			{% for participation in participations %}
				<div class="col-md-6 col-lg-4 mb-4" data-aos="fade-up" data-aos-delay="{{ loop.index * 100 }}">
					<div class="card entity-card">
						<div class="card-header entity-header">
							<i class="fas fa-user-check entity-icon"></i>
							<h5 class="entity-title">{{ participation.idFormation.titre }}</h5>
						</div>

						<div class="card-body entity-body">
							<p><i class="fas fa-user"></i> {{ participation.idUser.nom }} {{ participation.idUser.prenom }}</p>
						</div>
					</div>
				</div>
			{% else %}
				<div class="col-12" data-aos="fade-up">
					<div class="alert alert-info text-center">
						<i class="fas fa-info-circle"></i> Vous n'avez participé à aucune formation pour le moment.
					</div>
				</div>
			{% endfor %}
		</div>
	</div>
</section>
{% endblock %}

{% block js %}
	{{ parent() }}
	<script>
		document.addEventListener('DOMContentLoaded', function () {
			const cards = document.querySelectorAll('.entity-card');
			cards.forEach((card, index) => {
				card.style.animationDelay = `${index * 0.1}s`;
			});
		});
	</script>
{% endblock %}
